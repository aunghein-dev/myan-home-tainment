<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <link rel="icon" type="image/svg+xml" href="favicon.png" />
    <title>MyanFlix</title>

    <link rel="stylesheet" href="./style/index.css" />
    <link rel="stylesheet" href="./style/sidebar.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>
  <body>
    <script>
      window.onbeforeunload = function () {
        window.scrollTo(0, 0);
      };
    </script>

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
      <nav class="sidebar-nav">
        <div class="logo-container">
          <img
            src="./images/logo.png"
            alt="Logo 1"
            class="logo-img logo1-img"
          />
          <img
            src="./images/logo2.png"
            alt="Logo 2"
            class="logo2-img logo2-img"
          />
        </div>

        <a href="#"><i class="fas fa-home"></i><span>Home</span></a>
        <a href="#" id="nav-popular"
          ><i class="fas fa-fire"></i><span>Popular</span></a
        >
        <a href="#" id="nav-top-rated"
          ><i class="fas fa-star"></i><span>Top Rated</span></a
        >
        <a href="#" id="nav-upcoming"
          ><i class="fas fa-calendar"></i><span>Upcoming</span></a
        >

        <a href="./myfavorite"
          ><i class="fas fa-heart"></i><span>Favorites</span></a
        >
      </nav>
    </aside>
    <!-- Main Content -->
    <div class="main-content">
      <header>
        <div class="container">
          <div class="search-container">
            <input
              type="text"
              id="search-input"
              placeholder="Search for movies, TV shows..."
            />
            <i class="fas fa-times clear-icon" id="clearIcon"></i>
            <i class="fas fa-search search-icon"></i>
            <div id="search-suggestions" class="search-suggestions"></div>
          </div>
          <!-- Add inside header container -->
          <button id="sidebarToggle" class="menu-toggle">
            <i class="fas fa-bars"></i>
          </button>
        </div>
      </header>

      <!-- Loading Spinner -->
      <div id="loading" class="loading-overlay">
        <div class="loading-spinner"></div>
      </div>

      <main>
        <section class="hero" id="hero">
          <div class="hero-content">
            <h2>Discover the Best Movies and Shows</h2>
            <button>Explore Now</button>
          </div>
        </section>

        <section class="movie-category">
          <h2>Popular Movies</h2>
          <div id="popular-movies" class="movie-gallery"></div>
          <button id="view-popular" class="view-all">View All</button>
        </section>

        <section class="movie-category">
          <h2>Top Rated Movies</h2>
          <div id="top-rated-movies" class="movie-gallery"></div>
          <button id="view-top-rated" class="view-all">View All</button>
        </section>

        <section class="movie-category">
          <h2>Upcoming Movies</h2>
          <div id="upcoming-movies" class="movie-gallery"></div>
          <button id="view-upcoming" class="view-all">View All</button>
        </section>
      </main>
      <button id="backToTopBtn" title="Back to Top">
        <i class="fas fa-chevron-up"></i>
      </button>

      <footer>
        <div class="container-footer">
          <p>
            Â© 2025 <strong>myanFlix</strong> | Built with
            <i
              class="fas fa-heart"
              style="color: #e63946; vertical-align: middle"
            ></i>
            by <strong>MiniDev Tech Community</strong>
          </p>
        </div>
      </footer>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        if (window.innerWidth <= 768) {
          document
            .querySelectorAll(".sidebar-nav")
            .forEach((el) => el.classList.add("hover"));
        }
      });
    </script>

    <script>
      const toggleBtn = document.getElementById("sidebarToggle");
      const sidebar = document.getElementById("sidebar");

      toggleBtn.addEventListener("click", () => {
        sidebar.classList.toggle("active");
      });
    </script>

    <script type="module" src="./script/main.js"></script>
    <script>
      const backToTopBtn = document.getElementById("backToTopBtn");

      window.onscroll = () => {
        if (
          document.body.scrollTop > 300 ||
          document.documentElement.scrollTop > 300
        ) {
          backToTopBtn.style.display = "block";
        } else {
          backToTopBtn.style.display = "none";
        }
      };

      backToTopBtn.onclick = () => {
        window.scrollTo({ top: 0, behavior: "smooth" });
      };
    </script>

    <script>
      const searchInput = document.getElementById("search-input");
      const clearIcon = document.getElementById("clearIcon");

      searchInput.addEventListener("input", () => {
        clearIcon.style.opacity = searchInput.value.trim().length > 0 ? 1 : 0;
      });

      clearIcon.addEventListener("click", () => {
        searchInput.value = "";
        searchInput.focus();
        clearIcon.style.opacity = 0;
      });
    </script>
  </body>
</html>
